<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>旅途记</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        #map { width: 100%; height: 500px; }
    </style>
    <style>
        body { font-family: Arial, sans-serif; }
        section { margin: 20px; }
        #personal-center { margin-top: 40px; }
    </style>
    <script src="https://api.map.baidu.com/api?v=3.0&ak=8SijYThTdtDr8UZSUiA9w3ioVAX6Ib2G"></script>
    <script>
        function toggleDetails(button) {
            const details = button.nextElementSibling;
            details.style.display = details.style.display === 'none' ? 'block' : 'none';
        }
        </script>
        
</head>
<body>
    <header>
        <h1>欢迎来到旅途记</h1>
        <nav>
            <ul>
                <li><a href="login.html">登录</a></li>
                <li><a href="foreign destinations.html">出境游</a></li>
                <li><a href="domestic destinations.html">国内游</a></li>
                <li><a href="booking.html">在线预订</a></li>
                <li><a href="plan.html">行程规划</a></li>
                <li><a href="weather.html">实时天气</a></li>
                <li><a href="map.html">地图</a></li>
                <li><a href="comment.html">用户评论</a></li>
                <li><a href="personal-center.html">个人中心</a></li>
                <li><a href="contact.html">联系我们</a></li>
            </ul>
        </nav>
    </header>
<section id="login">
    <h2>用户登录</h2>
    <form id="loginForm">
        <label for="username">用户名:</label>
        <input type="text" id="username" name="username" required>
        <label for="password">密码:</label>
        <input type="password" id="password" name="password" required>
        <input type="submit" value="登录">
    </form>
    <p id="loginMessage"></p>
</section>

<section id="register">
    <h2>用户注册</h2>
    <form id="registerForm">
        <label for="reg_username">用户名:</label>
        <input type="text" id="reg_username" name="username" required>
        <label for="reg_password">密码:</label>
        <input type="password" id="reg_password" name="password" required>
        <input type="submit" value="注册">
    </form>
    <p id="registerMessage"></p>
</section>

<script>
    // 用户注册处理
    document.getElementById('registerForm').addEventListener('submit', function(event) {
        event.preventDefault(); // 阻止表单提交

        const username = document.getElementById('reg_username').value;
        const password = document.getElementById('reg_password').value;

        // 检查用户是否已注册
        const existingUser = localStorage.getItem(username);
        if (existingUser) {
            document.getElementById('registerMessage').innerText = '用户名已被注册，请选择其他用户名。';
            return;
        }

        // 存储用户信息
        localStorage.setItem(username, password);
        document.getElementById('registerMessage').innerText = '注册成功！';
        this.reset(); // 清空表单
    });

   // 用户登录处理
document.getElementById('loginForm').addEventListener('submit', function(event) {
    event.preventDefault();

    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    const storedPassword = localStorage.getItem(username);
    if (storedPassword && storedPassword === password) {
        document.getElementById('loginMessage').innerText = '登录成功！';
        // 保存当前用户
        localStorage.setItem('currentUser', username);
        // 跳转到个人中心
        window.location.href = 'personal-center.html';
    } else {
        document.getElementById('loginMessage').innerText = '用户名或密码错误。';
    }
});

    $('#loginForm').submit(function(event) {
        event.preventDefault();
        const username = $('#username').val();
        const password = $('#password').val();

        // 这里添加验证逻辑，例如检查用户名和密码是否正确
        const storedPassword = localStorage.getItem(username);
        if (storedPassword && storedPassword === password) {
            alert('登录成功！');
        } else {
            alert('用户名或密码错误。');
        }
    });

    $('#registerForm').submit(function(event) {
        event.preventDefault();
        alert('注册成功！');
    });
</script>
    </footer>
        <p>&copy; 2024 旅途记. 保留所有权利.</p>
    </footer>
 </body>
</html>
